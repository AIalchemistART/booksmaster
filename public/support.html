<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support & Contact - Booksmaster</title>
    <meta name="description" content="Get help with Booksmaster or join our mailing list for updates.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--gold:#D4AF37;--purple:#2D1B4E;--blue:#4A5899;--parchment:#F4ECD8;--silver:#C0C0C0;--green:#50C878;--red:#DC143C}
        html{scroll-behavior:smooth}
        body{font-family:'Inter',sans-serif;background:var(--purple);color:var(--parchment);line-height:1.7;min-height:100vh}
        
        nav{position:fixed;top:0;width:100%;background:rgba(45,27,78,0.98);backdrop-filter:blur(10px);z-index:1000;border-bottom:2px solid var(--gold)}
        .nav-container{max-width:1400px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}
        .logo{font-family:'Cinzel',serif;font-size:1.5rem;font-weight:700;color:var(--gold);text-decoration:none}
        .nav-links{display:flex;gap:1.5rem;list-style:none;align-items:center}
        .nav-links a{color:var(--parchment);text-decoration:none;font-weight:500;font-size:0.9rem;transition:color 0.3s}
        .nav-links a:hover{color:var(--gold)}
        .nav-cta{background:var(--gold);color:var(--purple)!important;padding:0.6rem 1.5rem;border-radius:25px;font-weight:600}
        
        main{padding-top:100px;padding-bottom:4rem;min-height:calc(100vh - 200px)}
        .container{max-width:900px;margin:0 auto;padding:0 2rem}
        .page-header{text-align:center;margin-bottom:3rem}
        .page-header h1{font-family:'Cinzel',serif;font-size:2.5rem;color:var(--gold);margin-bottom:1rem}
        .page-header p{font-size:1.1rem;color:var(--silver)}
        
        .content-box{background:rgba(244,236,216,0.08);border:2px solid rgba(212,175,55,0.3);border-radius:20px;padding:2.5rem;margin-bottom:2rem}
        .content-box h2{font-family:'Cinzel',serif;color:var(--gold);font-size:1.8rem;margin-bottom:1.5rem}
        .content-box h3{color:var(--gold);font-size:1.2rem;margin:1.5rem 0 0.75rem}
        .content-box p{color:var(--silver);margin-bottom:1rem;line-height:1.8}
        .content-box ul{margin:1rem 0 1rem 2rem;color:var(--silver)}
        .content-box li{margin-bottom:0.5rem}
        .content-box a{color:var(--gold);text-decoration:none;border-bottom:1px solid transparent;transition:border-color 0.3s}
        .content-box a:hover{border-bottom-color:var(--gold)}
        
        .form-group{margin-bottom:1.5rem}
        .form-group label{display:block;color:var(--gold);font-weight:600;margin-bottom:0.5rem}
        .form-group input,.form-group textarea{width:100%;padding:0.75rem;background:rgba(244,236,216,0.1);border:2px solid rgba(212,175,55,0.3);border-radius:10px;color:var(--parchment);font-family:'Inter',sans-serif;font-size:1rem;transition:border-color 0.3s}
        .form-group input:focus,.form-group textarea:focus{outline:none;border-color:var(--gold)}
        .form-group textarea{resize:vertical;min-height:150px}
        
        .btn{padding:1rem 2.5rem;border-radius:50px;text-decoration:none;font-weight:600;font-size:1.1rem;transition:all 0.3s;border:none;cursor:pointer;display:inline-block;text-align:center}
        .btn-primary{background:linear-gradient(135deg,var(--gold) 0%,#F4D03F 100%);color:var(--purple);box-shadow:0 4px 20px rgba(212,175,55,0.4)}
        .btn-primary:hover{transform:translateY(-3px);box-shadow:0 6px 30px rgba(212,175,55,0.6)}
        
        .faq-section{margin-top:2rem}
        .faq-item{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(212,175,55,0.2)}
        .faq-item:last-child{border-bottom:none}
        .faq-item h4{color:var(--green);margin-bottom:0.5rem;font-size:1.1rem}
        
        footer{background:rgba(0,0,0,0.5);padding:3rem 2rem;border-top:2px solid var(--gold);text-align:center}
        footer h3{font-family:'Cinzel',serif;color:var(--gold);font-size:1.3rem;margin-bottom:1rem}
        footer p{color:var(--silver);font-size:0.9rem;margin-bottom:0.5rem}
        .footer-links{display:flex;gap:2rem;justify-content:center;margin-top:1rem}
        .footer-links a{color:var(--silver);text-decoration:none;font-size:0.9rem}
        .footer-links a:hover{color:var(--gold)}
        
        @media(max-width:768px){.nav-links{display:none}.page-header h1{font-size:2rem}.content-box{padding:1.5rem}}
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">üìñ Booksmaster</a>
            <ul class="nav-links">
                <li><a href="index.html#why">Why Us</a></li>
                <li><a href="index.html#features">Features</a></li>
                <li><a href="support.html">Support</a></li>
                <li><a href="story.html">Our Story</a></li>
                <li><a href="donate.html" style="background:linear-gradient(135deg,#FF6B9D,#2D1B4E);color:white!important;padding:0.6rem 1.5rem;border-radius:25px;font-weight:600">‚ù§Ô∏è Donate</a></li>
                <li><a href="BooksmasterSetup.exe" class="nav-cta" download>‚öîÔ∏è Download</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <div class="page-header">
                <h1>Support & Contact</h1>
                <p>Get help with Booksmaster or stay updated with the latest features</p>
            </div>

            <div class="content-box" style="background:rgba(80,200,120,0.1);border-color:var(--green)">
                <h2>‚ù§Ô∏è Support Open Source Development</h2>
                <p style="color:var(--parchment)"><strong>Booksmaster is free and open source (MIT License).</strong> If it helps you, please consider supporting development:</p>
                
                <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin:2rem 0">
                    <div style="text-align:center">
                        <div style="font-size:2.5rem;margin-bottom:0.5rem">ÔøΩ</div>
                        <strong style="color:var(--green)">GitHub Sponsors</strong>
                        <p style="font-size:0.9rem;margin:0.5rem 0">Recurring monthly support</p>
                        <a href="https://github.com/sponsors/AIalchemistART" target="_blank" style="color:var(--gold);text-decoration:underline">Become a Sponsor ‚Üí</a>
                    </div>
                    <div style="text-align:center">
                        <div style="font-size:2.5rem;margin-bottom:0.5rem">‚òï</div>
                        <strong style="color:var(--green)">Ko-fi</strong>
                        <p style="font-size:0.9rem;margin:0.5rem 0">One-time or monthly</p>
                        <a href="https://ko-fi.com/aialchemistart" target="_blank" style="color:var(--gold);text-decoration:underline">Support on Ko-fi ‚Üí</a>
                    </div>
                    <div style="text-align:center">
                        <div style="font-size:2.5rem;margin-bottom:0.5rem">üíô</div>
                        <strong style="color:var(--green)">PayPal</strong>
                        <p style="font-size:0.9rem;margin:0.5rem 0">Direct donations</p>
                        <a href="https://paypal.me/aialchemistart" target="_blank" style="color:var(--gold);text-decoration:underline">Donate via PayPal ‚Üí</a>
                    </div>
                </div>
                
                <p style="margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(80,200,120,0.3);font-size:0.95rem">
                    <strong>Need custom work?</strong> Consultation, custom features, training, and industry-specific builds available. 
                    <a href="https://www.aialchemist.net" target="_blank" style="color:var(--gold);text-decoration:underline">Visit AIAlchemist.net ‚Üí</a>
                </p>
            </div>

            <div class="content-box">
                <h2>ÔøΩ Join Our Mailing List</h2>
                <p>Stay informed about new features, updates, and the upcoming mobile app. We'll notify you when macOS, Linux, and mobile versions become available.</p>
                
                <form id="newsletter-form">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required placeholder="contractor@example.com">
                    </div>
                    <div class="form-group">
                        <label for="name">Name (Optional)</label>
                        <input type="text" id="name" name="name" placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label for="interests">Interested In (Optional)</label>
                        <input type="text" id="interests" name="interests" placeholder="Mobile app, macOS version, etc.">
                    </div>
                    <button type="submit" class="btn btn-primary">Subscribe to Updates</button>
                    <p id="newsletter-status" style="margin-top:1rem;font-size:0.9rem;"></p>
                </form>
            </div>

            <div class="content-box">
                <h2>üí¨ Contact Support</h2>
                <p>Need help with Booksmaster? We're here to assist you with any questions or issues.</p>
                
                <form id="contact-form">
                    <div class="form-group">
                        <label for="contact-email">Email Address</label>
                        <input type="email" id="contact-email" name="email" required placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" required placeholder="Brief description of your issue">
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required placeholder="Please describe your issue or question in detail..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                    <p id="contact-status" style="margin-top:1rem;font-size:0.9rem;"></p>
                </form>
                
                <p style="margin-top:2rem;font-size:0.9rem;color:var(--silver);">
                    <strong>Response Time:</strong> We typically respond within 24-48 hours on business days.
                </p>
            </div>

            <div class="content-box">
                <h2>‚ùì Common Questions</h2>
                <div class="faq-section">
                    <div class="faq-item">
                        <h4>How do I get a Google AI key?</h4>
                        <p>Visit <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a> to generate an API key. <strong>Important: Pay-as-you-go billing required</strong> (no subscription needed). The free tier has rate limits too restrictive for practical use and causes failures when processing batches of receipts. You only pay for actual usage‚Äîtypical costs are minimal.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Installation issues on Windows</h4>
                        <p>If you see a SmartScreen warning, click "More info" then "Run anyway". Booksmaster is safe but not yet code-signed. Requires Windows 10 or newer (64-bit).</p>
                    </div>
                    <div class="faq-item">
                        <h4>Receipt scanning not working</h4>
                        <p>Ensure you've entered your Google AI key in Settings. Check your internet connection‚ÄîAI features require online access. For offline use, Tesseract OCR fallback is available but less accurate.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Data backup recommendations</h4>
                        <p>Your data is stored locally in your user directory. We recommend regular backups to external drives or cloud storage. Export your data via Settings ‚Üí Export Data for safekeeping.</p>
                    </div>
                    <div class="faq-item">
                        <h4>When will mobile/cloud version launch?</h4>
                        <p>Optional cloud sync and mobile apps are planned for Q2-Q3 2026 as add-on features. The desktop app will always remain free and open source. Join our mailing list above to be notified when additional features launch.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Is Booksmaster really free?</h4>
                        <p>Yes! MIT licensed and free forever. No subscriptions, no paywalls, no hidden costs. Download, use, modify, and share freely. If it helps you, consider <a href="#" style="color:var(--gold)">supporting development</a> via donations.</p>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <h2>üìñ Additional Resources</h2>
                <ul>
                    <li><a href="index.html#faq">Frequently Asked Questions</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                    <li><a href="index.html#download">Download Booksmaster</a></li>
                </ul>
            </div>
        </div>
    </main>

    <footer>
        <h3>üìñ Booksmaster</h3>
        <p>&copy; 2026 Booksmaster. All rights reserved.</p>
        <p style="font-style:italic;color:var(--gold);margin-top:1rem">"Master your books, master your realm."</p>
        <div class="footer-links">
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
            <a href="support.html">Support</a>
        </div>
    </footer>

    <script>
        // Check subscription status
        let checkTimeout;
        async function checkSubscriptionStatus(email) {
            if (!email || !email.includes('@')) return;
            
            const status = document.getElementById('newsletter-status');
            const btn = document.querySelector('#newsletter-form button[type="submit"]');
            
            try {
                const response = await fetch(`https://ai-alchemist.netlify.app/api/newsletter/check?email=${encodeURIComponent(email)}`);
                const data = await response.json();
                
                if (data.subscribed) {
                    status.style.color = 'var(--green)';
                    status.innerHTML = '‚úì Thank you! You\'ll receive updates soon.';
                    btn.disabled = true;
                    btn.textContent = 'Already Subscribed';
                } else if (data.status === 'unsubscribed') {
                    status.style.color = 'var(--silver)';
                    status.textContent = '';
                    btn.disabled = false;
                    btn.textContent = 'Subscribe to Updates';
                } else {
                    status.textContent = '';
                    btn.disabled = false;
                    btn.textContent = 'Subscribe to Updates';
                }
            } catch (error) {
                console.error('Subscription check error:', error);
                // On error, allow signup
                status.textContent = '';
                btn.disabled = false;
            }
        }
        
        // Check status on email input
        document.getElementById('email').addEventListener('input', (e) => {
            clearTimeout(checkTimeout);
            checkTimeout = setTimeout(() => checkSubscriptionStatus(e.target.value), 500);
        });
        
        // Newsletter form handler
        document.getElementById('newsletter-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const status = document.getElementById('newsletter-status');
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            
            btn.disabled = true;
            btn.textContent = 'Subscribing...';
            status.textContent = '';
            
            const formData = {
                email: document.getElementById('email').value,
                name: document.getElementById('name').value,
                interests: document.getElementById('interests').value
            };
            
            try {
                const response = await fetch('/.netlify/functions/newsletter', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    status.style.color = 'var(--green)';
                    status.textContent = '‚úì Thank you for subscribing! We\'ll keep you updated.';
                    e.target.reset();
                    btn.textContent = 'Already Subscribed';
                } else {
                    const error = await response.json();
                    status.style.color = 'var(--red)';
                    status.textContent = '‚úó ' + (error.error || 'Failed to subscribe. Please try again.');
                    btn.disabled = false;
                    btn.textContent = originalText;
                }
            } catch (error) {
                status.style.color = 'var(--red)';
                status.textContent = '‚úó Network error. Please check your connection and try again.';
                btn.disabled = false;
                btn.textContent = originalText;
            }
        });
        
        // Contact form handler
        document.getElementById('contact-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const status = document.getElementById('contact-status');
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            
            btn.disabled = true;
            btn.textContent = 'Sending...';
            status.textContent = '';
            
            const formData = {
                email: document.getElementById('contact-email').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };
            
            try {
                const response = await fetch('/.netlify/functions/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    status.style.color = 'var(--green)';
                    status.textContent = '‚úì Message sent! We\'ll respond within 24-48 hours.';
                    e.target.reset();
                } else {
                    const error = await response.json();
                    status.style.color = 'var(--red)';
                    status.textContent = '‚úó ' + (error.error || 'Failed to send message. Please try again.');
                }
            } catch (error) {
                status.style.color = 'var(--red)';
                status.textContent = '‚úó Network error. Please check your connection and try again.';
            } finally {
                btn.disabled = false;
                btn.textContent = originalText;
            }
        });
    </script>
</body>
</html>
